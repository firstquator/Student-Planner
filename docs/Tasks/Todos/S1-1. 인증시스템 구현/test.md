# S1-1. 인증시스템 구현 - 테스트 가이드

## 🧪 테스트 목록

### 1. 기능 테스트 (Functional Tests)

#### 1.1 회원가입 테스트
- [ ] **정상 회원가입**
  - 올바른 이메일과 비밀번호로 회원가입 가능
  - 회원가입 후 이메일 인증 안내 표시
  - 데이터베이스에 사용자 정보 저장 확인

- [ ] **회원가입 유효성 검사**
  - 잘못된 이메일 형식 입력 시 에러 메시지 표시
  - 비밀번호 조건 미충족 시 에러 메시지 표시
  - 비밀번호 확인 불일치 시 에러 메시지 표시
  - 중복 이메일 가입 시도 시 적절한 메시지 표시

#### 1.2 로그인 테스트
- [ ] **정상 로그인**
  - 올바른 계정 정보로 로그인 가능
  - 로그인 후 대시보드로 리디렉션
  - 사용자 세션 정상 유지

- [ ] **로그인 실패 처리**
  - 존재하지 않는 계정으로 로그인 시도
  - 잘못된 비밀번호로 로그인 시도
  - 이메일 미인증 계정으로 로그인 시도

#### 1.3 비밀번호 재설정 테스트
- [ ] **비밀번호 재설정 요청**
  - 올바른 이메일 입력 시 재설정 이메일 발송
  - 존재하지 않는 이메일 입력 시 적절한 처리
  - 재설정 링크를 통한 비밀번호 변경

#### 1.4 소셜 로그인 테스트
- [ ] **Google 로그인**
  - Google 로그인 버튼 클릭 시 Google 인증 페이지로 이동
  - 성공적인 Google 인증 후 계정 생성/로그인
  - 기존 계정과 연동 처리

- [ ] **GitHub 로그인**
  - GitHub 로그인 버튼 클릭 시 GitHub 인증 페이지로 이동
  - 성공적인 GitHub 인증 후 계정 생성/로그인
  - 기존 계정과 연동 처리

#### 1.5 로그아웃 테스트
- [ ] **정상 로그아웃**
  - 로그아웃 버튼 클릭 시 세션 종료
  - 로그아웃 후 로그인 페이지로 리디렉션
  - 보호된 페이지 접근 시 로그인 페이지로 리디렉션

### 2. UI/UX 테스트

#### 2.1 반응형 디자인 테스트
- [ ] **모바일 (320px - 768px)**
  - 모든 인증 폼이 모바일에서 정상 표시
  - 터치 인터페이스에 적합한 버튼 크기
  - 가상 키보드 표시 시 레이아웃 유지

- [ ] **태블릿 (768px - 1024px)**
  - 태블릿 화면에서 적절한 레이아웃
  - 가로/세로 모드 모두에서 정상 동작

- [ ] **데스크톱 (1024px+)**
  - 데스크톱에서 최적화된 레이아웃
  - 큰 화면에서도 적절한 폼 크기

#### 2.2 접근성 테스트
- [ ] **키보드 내비게이션**
  - Tab 키를 통한 순차적 포커스 이동
  - Enter 키를 통한 폼 제출
  - Escape 키를 통한 모달 닫기

- [ ] **스크린 리더 지원**
  - 모든 입력 필드에 적절한 라벨
  - 에러 메시지가 스크린 리더에 전달
  - ARIA 속성 적절히 사용

- [ ] **색상 대비**
  - WCAG 2.1 AA 기준 색상 대비 충족
  - 색상에만 의존하지 않는 정보 전달

#### 2.3 로딩 및 에러 상태 테스트
- [ ] **로딩 상태**
  - 폼 제출 시 로딩 인디케이터 표시
  - 로딩 중 중복 제출 방지
  - 적절한 로딩 시간 표시

- [ ] **에러 상태**
  - 네트워크 에러 시 사용자 친화적 메시지
  - 필드별 검증 에러 메시지 표시
  - 에러 메시지 접근성 준수

### 3. 보안 테스트

#### 3.1 입력 검증 테스트
- [ ] **SQL 인젝션 방지**
  - 악성 SQL 쿼리 입력 시도
  - Supabase ORM의 자동 보호 확인

- [ ] **XSS 방지**
  - 스크립트 태그 입력 시도
  - HTML 엔티티 이스케이프 확인

#### 3.2 세션 보안 테스트
- [ ] **세션 관리**
  - 로그아웃 시 세션 완전 삭제
  - 세션 탈취 방지 (Secure Cookie)
  - 세션 타임아웃 처리

#### 3.3 비밀번호 보안 테스트
- [ ] **비밀번호 정책**
  - 최소 8자리 이상 강제
  - 특수문자 포함 강제
  - 일반적인 비밀번호 거부

### 4. 성능 테스트

#### 4.1 페이지 로딩 성능
- [ ] **First Contentful Paint (FCP)**: < 1.5초
- [ ] **Largest Contentful Paint (LCP)**: < 2.5초
- [ ] **Cumulative Layout Shift (CLS)**: < 0.1

#### 4.2 API 응답 시간
- [ ] **로그인 API**: < 500ms
- [ ] **회원가입 API**: < 1초
- [ ] **비밀번호 재설정 API**: < 500ms

---

## 🤖 자동 테스트 프롬프트

### Playwright E2E 테스트 실행 프롬프트

```
/sc:test 인증 시스템 E2E 테스트 실행

다음 시나리오들을 Playwright로 자동 테스트해주세요:

## 테스트 시나리오

### 1. 회원가입 플로우 테스트
1. 회원가입 페이지 접근
2. 올바른 정보 입력 및 제출
3. 이메일 인증 안내 메시지 확인
4. 데이터베이스에 사용자 생성 확인

### 2. 로그인 플로우 테스트
1. 로그인 페이지 접근
2. 올바른 계정 정보 입력 및 제출
3. 대시보드로 리디렉션 확인
4. 인증 상태 확인

### 3. 보호된 페이지 접근 테스트
1. 로그아웃 상태에서 대시보드 접근 시도
2. 로그인 페이지로 리디렉션 확인
3. 로그인 후 원래 페이지로 리디렉션 확인

### 4. 반응형 디자인 테스트
1. 다양한 화면 크기에서 페이지 렌더링 확인
2. 모바일에서 터치 인터페이스 테스트
3. 키보드 내비게이션 테스트

--play --persona-qa --validate
```

### 유닛 테스트 실행 프롬프트

```
/sc:test 인증 관련 훅과 컴포넌트 유닛 테스트

다음 컴포넌트와 훅들의 유닛 테스트를 작성하고 실행해주세요:

## 테스트 대상

### 1. useAuth 훅 테스트
- 초기 인증 상태 확인
- 로그인/로그아웃 함수 동작 확인
- 사용자 정보 업데이트 확인

### 2. useAuthForm 훅 테스트
- 폼 상태 관리 확인
- 입력 검증 로직 확인
- 제출 처리 로직 확인

### 3. AuthForm 컴포넌트 테스트
- 렌더링 확인
- 사용자 입력 처리 확인
- 에러 메시지 표시 확인

### 4. API Route 테스트
- 회원가입 API 응답 확인
- 로그인 API 응답 확인
- 에러 처리 확인

Jest와 React Testing Library를 사용하여 테스트를 작성해주세요.

--persona-qa --seq
```

---

## 📝 테스트 체크리스트

### 수동 테스트
- [ ] 모든 기능 테스트 항목 통과
- [ ] 모든 UI/UX 테스트 항목 통과
- [ ] 모든 보안 테스트 항목 통과
- [ ] 성능 기준 충족

### 자동 테스트
- [ ] E2E 테스트 100% 통과
- [ ] 유닛 테스트 90% 이상 통과
- [ ] 코드 커버리지 80% 이상
- [ ] 접근성 테스트 통과

### 최종 검증
- [ ] 프로덕션 환경에서 정상 동작
- [ ] 다양한 브라우저에서 호환성 확인
- [ ] 실제 사용자 시나리오 테스트 완료